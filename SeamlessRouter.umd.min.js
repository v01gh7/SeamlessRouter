(function(b,T){typeof exports=="object"&&typeof module<"u"?T(exports):typeof define=="function"&&define.amd?define(["exports"],T):(b=typeof globalThis<"u"?globalThis:b||self,T(b.SeamlessRouter={}))})(this,(function(b){"use strict";let y={...{prefetch:{enabled:!0,mobileThreshold:768,desktopPrefetchAll:!0,mobilePrefetchLimit:3,navigationExtraPages:2,hoverDelay:300,touchDelay:100},cache:{enabled:!0,maxSizeMB:30,maxEntries:100,alwaysCache:["/","/index.html","/contacts.html","/about.html"],checkLastModified:!0,ttlHours:24},offline:{enabled:!0,showOfflineIndicator:!0,offlinePageUrl:"/offline.html",cacheMedia:!1},animations:{enabled:!0,defaultDuration:300,respectReducedMotion:!0,animationTypes:["fade","slide-left","slide-right","slide-up","slide-down","collapse","diagonal"],defaultType:"fade"},general:{debug:process.env.NODE_ENV==="development",dataNoRoutingAttribute:"data-no-routing"}}};function l(){return{...y}}function x(n){y={...y,...n,prefetch:{...y.prefetch,...n.prefetch},cache:{...y.cache,...n.cache},offline:{...y.offline,...n.offline},animations:{...y.animations,...n.animations},general:{...y.general,...n.general}}}function E(){return window.innerWidth<l().prefetch.mobileThreshold}function K(){const n=l();return n.prefetch.enabled?E()?n.prefetch.mobilePrefetchLimit:n.prefetch.desktopPrefetchAll?1/0:n.prefetch.mobilePrefetchLimit:0}class G{cache=new Map;stats={totalEntries:0,totalSize:0,hits:0,misses:0,hitRate:0};isSupported=!1;constructor(){this.checkSupport(),this.loadFromStorage()}checkSupport(){try{const e="__router_cache_test__";localStorage.setItem(e,"test"),localStorage.removeItem(e),this.isSupported=!0}catch{console.warn("‚ö†Ô∏è localStorage not supported, using memory cache only"),this.isSupported=!1}}loadFromStorage(){if(this.isSupported)try{const e=localStorage.getItem("router_cache");if(e){const t=JSON.parse(e);this.cache=new Map(t.cache||[]),this.stats=t.stats||this.stats,this.cleanupExpired(),l().general.debug&&console.log("üì¶ Cache loaded from storage:",this.stats)}}catch(e){console.error("‚ùå Error loading cache from storage:",e),this.clear()}}saveToStorage(){if(this.isSupported)try{const e={cache:Array.from(this.cache.entries()),stats:this.stats,timestamp:Date.now()};localStorage.setItem("router_cache",JSON.stringify(e))}catch(e){console.error("‚ùå Error saving cache to storage:",e)}}cleanupExpired(){const e=l(),t=Date.now(),i=e.cache.ttlHours*60*60*1e3;let r=0;for(const[a,o]of this.cache.entries())e.cache.alwaysCache.includes(a)||t-o.timestamp>i&&(this.cache.delete(a),this.stats.totalSize-=o.size,r++);this.stats.totalEntries=this.cache.size,r>0&&l().general.debug&&console.log(`üßπ Cleaned up ${r} expired cache entries`)}shouldUpdateEntry(e,t,i){const r=this.cache.get(e);return!!(!r||t&&r.lastModified!==t||i&&r.etag!==i)}calculateSize(e,t){let i=0;return i+=new Blob([e]).size,i+=JSON.stringify(t).length*2,i+=100,i}checkLimits(){const e=l(),t=e.cache.maxSizeMB*1024*1024,i=e.cache.maxEntries;for(;(this.stats.totalSize>t||this.cache.size>i)&&this.cache.size>0;){let r=null,a=Date.now();for(const[o,s]of this.cache.entries())e.cache.alwaysCache.includes(o)||s.timestamp<a&&(a=s.timestamp,r=o);if(r){const o=this.cache.get(r);this.cache.delete(r),this.stats.totalSize-=o.size,this.stats.totalEntries--,l().general.debug&&console.log(`üóëÔ∏è Removed old cache entry: ${r}`)}else break}}set(e,t,i={}){if(!l().cache.enabled)return!1;const r=l(),a=i["last-modified"],o=i.etag;if(!this.shouldUpdateEntry(e,a,o))return r.general.debug&&console.log(`‚ôªÔ∏è Cache entry not changed: ${e}`),!1;const s=this.cache.get(e);s&&(this.stats.totalSize-=s.size);const u=this.calculateSize(t,i),m={url:e,html:t,headers:i,timestamp:Date.now(),size:u,lastModified:a,etag:o};return this.cache.set(e,m),this.stats.totalSize+=u,this.stats.totalEntries=this.cache.size,this.checkLimits(),this.saveToStorage(),r.general.debug&&console.log(`üíæ Cache set: ${e} (${Math.round(u/1024)}KB)`),!0}get(e){if(!l().cache.enabled)return null;const t=this.cache.get(e);return t?(this.stats.hits++,this.updateHitRate(),l().general.debug&&console.log(`üéØ Cache hit: ${e}`),t):(this.stats.misses++,this.updateHitRate(),l().general.debug&&console.log(`‚ùå Cache miss: ${e}`),null)}has(e){return this.cache.has(e)}delete(e){const t=this.cache.get(e);return t?(this.cache.delete(e),this.stats.totalSize-=t.size,this.stats.totalEntries--,this.saveToStorage(),l().general.debug&&console.log(`üóëÔ∏è Cache deleted: ${e}`),!0):!1}clear(){const e=this.cache.size;this.cache.clear(),this.stats={totalEntries:0,totalSize:0,hits:0,misses:0,hitRate:0},this.isSupported&&localStorage.removeItem("router_cache"),l().general.debug&&console.log(`üßπ Cache cleared (${e} entries removed)`)}updateHitRate(){const e=this.stats.hits+this.stats.misses;this.stats.hitRate=e>0?this.stats.hits/e:0}getStats(){return{...this.stats}}getUrls(){return Array.from(this.cache.keys())}getSizeMB(){return Math.round(this.stats.totalSize/(1024*1024)*100)/100}isCacheSupported(){return this.isSupported}}class J{prefetchManager;navigationHistory=[];maxHistorySize=100;isEnabled=!0;constructor(e){this.prefetchManager=e,this.isEnabled=l().prefetch.enabled,this.loadNavigationHistory(),this.setupNavigationTracking()}loadNavigationHistory(){try{const e=localStorage.getItem("router_navigation_history");e&&(this.navigationHistory=JSON.parse(e))}catch(e){console.warn("Failed to load navigation history:",e),this.navigationHistory=[]}}saveNavigationHistory(){try{localStorage.setItem("router_navigation_history",JSON.stringify(this.navigationHistory))}catch(e){console.warn("Failed to save navigation history:",e)}}setupNavigationTracking(){if(!this.isEnabled)return;let e=window.location.pathname;const t=()=>{const a=window.location.pathname;a!==e&&(this.recordNavigation(e,a),e=a,this.prefetchBasedOnPatterns(a))};window.addEventListener("popstate",t);const i=history.pushState,r=history.replaceState;history.pushState=function(...a){i.apply(this,a),setTimeout(t,0)},history.replaceState=function(...a){r.apply(this,a),setTimeout(t,0)}}recordNavigation(e,t){const i=this.navigationHistory.find(r=>r.from===e&&r.to===t);i?(i.count++,i.timestamp=Date.now()):(this.navigationHistory.push({from:e,to:t,count:1,timestamp:Date.now()}),this.navigationHistory.length>this.maxHistorySize&&(this.navigationHistory.sort((r,a)=>a.timestamp-r.timestamp),this.navigationHistory=this.navigationHistory.slice(0,this.maxHistorySize))),this.saveNavigationHistory()}prefetchBasedOnPatterns(e){if(!this.isEnabled)return;const t=l(),i=E(),r=this.getLikelyNextPages(e);if(r.length===0)return;let a;i?a=t.prefetch.mobilePrefetchLimit:a=t.prefetch.desktopPrefetchAll?r.length:t.prefetch.mobilePrefetchLimit;const o=r.slice(0,a);o.forEach(s=>{this.prefetchManager.prefetch(s.url,"auto")}),t.general.debug&&o.length>0&&console.log(`üéØ Intelligent prefetch for ${e}:`,o.map(s=>s.url))}getLikelyNextPages(e){const t=this.navigationHistory.filter(r=>r.from===e);return t.length===0?[]:t.map(r=>{const a=r.count,o=Date.now()-r.timestamp,s=Math.max(0,1-o/(720*60*60*1e3)),u=a*(1+s);return{url:r.to,probability:u}}).sort((r,a)=>a.probability-r.probability)}prefetchTopLevelPages(){if(!this.isEnabled)return;const e=l(),t=E(),i=new Set;this.navigationHistory.forEach(s=>{i.add(s.from),i.add(s.to)}),e.cache.alwaysCache.forEach(s=>{i.add(s)});const r=Array.from(i);if(r.length===0)return;let a;t?a=Math.min(e.prefetch.mobilePrefetchLimit,r.length):a=e.prefetch.desktopPrefetchAll?r.length:e.prefetch.mobilePrefetchLimit;const o=r.slice(0,a);o.forEach(s=>{this.prefetchManager.prefetch(s,"low")}),e.general.debug&&o.length>0&&console.log("üè† Prefetching top-level pages:",o)}prefetchNavigationExtraPages(e=document.body){if(!this.isEnabled)return;const t=l(),i=t.prefetch.navigationExtraPages;if(i<=0)return;const r=e.querySelectorAll('a[href*="page"], a[href*="p="], a[rel="next"], a[rel="prev"]'),a=[];if(r.forEach(s=>{const u=s.getAttribute("href");if(u&&!(u.startsWith("#")||u.startsWith("mailto:")||u.startsWith("tel:")||u.includes("://")))try{const m=new URL(u,window.location.origin);m.origin===window.location.origin&&a.push(m.pathname+m.search+m.hash)}catch{}}),a.length===0)return;const o=a.slice(0,i);o.forEach(s=>{this.prefetchManager.prefetch(s,"auto")}),t.general.debug&&o.length>0&&console.log(`üìÑ Prefetching ${o.length} extra navigation pages`)}clearHistory(){this.navigationHistory=[],localStorage.removeItem("router_navigation_history"),l().general.debug&&console.log("üßπ Navigation history cleared")}getStats(){return{totalPatterns:this.navigationHistory.length,uniqueFromPages:new Set(this.navigationHistory.map(e=>e.from)).size,uniqueToPages:new Set(this.navigationHistory.map(e=>e.to)).size,totalTransitions:this.navigationHistory.reduce((e,t)=>e+t.count,0)}}setEnabled(e){this.isEnabled=e}}class V{cacheManager;intelligentPrefetch;queue=[];activeRequests=new Set;maxConcurrent=3;isEnabled=!0;constructor(e){this.cacheManager=e,this.intelligentPrefetch=new J(this),this.isEnabled=l().prefetch.enabled,this.maxConcurrent=E()?2:3}async prefetch(e,t="low"){if(!this.isEnabled||this.activeRequests.has(e)||this.cacheManager.has(e))return!1;const i={url:e,priority:t,timestamp:Date.now(),controller:new AbortController};return this.addToQueue(i),this.processQueue(),!0}addToQueue(e){const t=this.queue.findIndex(i=>this.getPriorityValue(i.priority)<this.getPriorityValue(e.priority));t===-1?this.queue.push(e):this.queue.splice(t,0,e)}getPriorityValue(e){switch(e){case"high":return 0;case"auto":return 1;case"low":return 2;default:return 2}}async processQueue(){for(;this.activeRequests.size<this.maxConcurrent&&this.queue.length>0;){const e=this.queue.shift();if(!e)break;await this.executePrefetch(e)}}async executePrefetch(e){this.activeRequests.add(e.url);try{const t=await fetch(e.url,{method:"GET",priority:e.priority,signal:e.controller?.signal});if(!t.ok)throw new Error(`HTTP ${t.status}`);const i=await t.text(),r={};t.headers.forEach((a,o)=>{r[o]=a}),this.cacheManager.set(e.url,i,r),l().general.debug&&console.log(`‚úÖ Prefetched: ${e.url} (${e.priority})`)}catch(t){t instanceof Error&&t.name!=="AbortError"&&console.warn(`‚ö†Ô∏è Prefetch failed for ${e.url}:`,t)}finally{this.activeRequests.delete(e.url),this.processQueue()}}cancelPrefetch(e){const t=this.queue.findIndex(i=>i.url===e);if(t!==-1)return this.queue[t].controller?.abort(),this.queue.splice(t,1),!0;if(this.activeRequests.has(e)){for(const i of this.queue)if(i.url===e&&i.controller)return i.controller.abort(),this.activeRequests.delete(e),!0}return!1}prefetchMultiple(e,t="low"){if(!this.isEnabled)return;const i=K();(i===1/0?e:e.slice(0,i)).forEach(a=>{this.prefetch(a,t)})}prefetchNavigationLinks(e=document.body){if(!this.isEnabled)return;const t=l(),i=this.extractNavigationLinks(e);if(i.length>0){const r=E()?"low":"auto";this.prefetchMultiple(i,r),t.general.debug&&console.log(`üîó Prefetching ${i.length} navigation links`)}this.intelligentPrefetch.prefetchTopLevelPages(),this.intelligentPrefetch.prefetchNavigationExtraPages(e)}extractNavigationLinks(e){const t=[],i=l(),r=e.querySelectorAll(`a[href]:not([${i.general.dataNoRoutingAttribute}])`);for(const a of r){const o=a.getAttribute("href");if(o&&!(o.startsWith("#")||o.startsWith("mailto:")||o.startsWith("tel:")||o.includes("://")))try{const s=new URL(o,window.location.origin);s.origin===window.location.origin&&t.push(s.pathname+s.search+s.hash)}catch{}}return t}clearQueue(){this.queue.forEach(e=>{e.controller?.abort()});for(const e of this.activeRequests)this.cancelPrefetch(e);this.queue=[],this.activeRequests.clear(),l().general.debug&&console.log("üßπ Prefetch queue cleared")}setEnabled(e){this.isEnabled=e,e||this.clearQueue()}getStats(){return{queueLength:this.queue.length,activeRequests:this.activeRequests.size,maxConcurrent:this.maxConcurrent,isEnabled:this.isEnabled,intelligentPrefetch:this.intelligentPrefetch.getStats()}}getIntelligentPrefetch(){return this.intelligentPrefetch}clearNavigationHistory(){this.intelligentPrefetch.clearHistory()}}class Z{isAnimating=!1;currentAnimation=null;prefersReducedMotion=!1;constructor(){if(this.checkReducedMotion(),window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion: reduce)");this.prefersReducedMotion=e.matches,e.addEventListener("change",t=>{this.prefersReducedMotion=t.matches})}}checkReducedMotion(){window.matchMedia&&(this.prefersReducedMotion=window.matchMedia("(prefers-reduced-motion: reduce)").matches)}shouldAnimate(e){const t=l();return!(!t.animations.enabled||t.animations.respectReducedMotion&&this.prefersReducedMotion)}async animatePageTransition(e,t,i,r={}){if(!this.shouldAnimate(r)){i.replaceChild(t,e),r.onComplete?.();return}this.isAnimating&&await this.cancelCurrentAnimation(),this.isAnimating=!0,r.onStart?.();const a=l(),o=r.type||"fade",s=r.duration||a.animations.defaultDuration,u=r.easing||"ease-in-out";try{await this.executeAnimation(e,t,i,o,s,u,r)}catch(m){console.error("Animation error:",m),i.replaceChild(t,e)}finally{this.isAnimating=!1}}async executeAnimation(e,t,i,r,a,o,s){this.prepareElements(e,t,r),i.appendChild(t);const u=this.getKeyframes(r,e,t),m=e.animate(u,{duration:a,easing:o,fill:"forwards"});this.currentAnimation=m;const M=this.getNewContentKeyframes(r),A=t.animate(M,{duration:a,easing:o,fill:"forwards"});await Promise.all([m.finished,A.finished]),this.finishTransition(e,t,i),s.onComplete?.(),this.currentAnimation=null}prepareElements(e,t,i){const r={position:"absolute",top:"0",left:"0",width:"100%",height:"100%",overflow:"hidden"};Object.assign(e.style,r),Object.assign(t.style,{...r,opacity:"0",visibility:"hidden"}),e.classList.add("router-animation-old"),t.classList.add("router-animation-new"),e.classList.add(`router-animation-${i}`),t.classList.add(`router-animation-${i}`)}getKeyframes(e,t,i){switch(e){case"fade":return[{opacity:1,visibility:"visible"},{opacity:0,visibility:"hidden"}];case"slide-left":return[{transform:"translateX(0)",opacity:1,visibility:"visible"},{transform:"translateX(-100%)",opacity:0,visibility:"hidden"}];case"slide-right":return[{transform:"translateX(0)",opacity:1,visibility:"visible"},{transform:"translateX(100%)",opacity:0,visibility:"hidden"}];case"slide-up":return[{transform:"translateY(0)",opacity:1,visibility:"visible"},{transform:"translateY(-100%)",opacity:0,visibility:"hidden"}];case"slide-down":return[{transform:"translateY(0)",opacity:1,visibility:"visible"},{transform:"translateY(100%)",opacity:0,visibility:"hidden"}];case"collapse":return[{transform:"scale(1)",opacity:1,visibility:"visible"},{transform:"scale(0.8)",opacity:0,visibility:"hidden"}];case"diagonal":return[{transform:"translate(0, 0) scale(1)",opacity:1,visibility:"visible"},{transform:"translate(100%, 100%) scale(0.8)",opacity:0,visibility:"hidden"}];default:return[{opacity:1,visibility:"visible"},{opacity:0,visibility:"hidden"}]}}getNewContentKeyframes(e){switch(e){case"fade":return[{opacity:0,visibility:"hidden"},{opacity:1,visibility:"visible"}];case"slide-left":return[{transform:"translateX(100%)",opacity:0,visibility:"hidden"},{transform:"translateX(0)",opacity:1,visibility:"visible"}];case"slide-right":return[{transform:"translateX(-100%)",opacity:0,visibility:"hidden"},{transform:"translateX(0)",opacity:1,visibility:"visible"}];case"slide-up":return[{transform:"translateY(100%)",opacity:0,visibility:"hidden"},{transform:"translateY(0)",opacity:1,visibility:"visible"}];case"slide-down":return[{transform:"translateY(-100%)",opacity:0,visibility:"hidden"},{transform:"translateY(0)",opacity:1,visibility:"visible"}];case"collapse":return[{transform:"scale(1.2)",opacity:0,visibility:"hidden"},{transform:"scale(1)",opacity:1,visibility:"visible"}];case"diagonal":return[{transform:"translate(-100%, -100%) scale(1.2)",opacity:0,visibility:"hidden"},{transform:"translate(0, 0) scale(1)",opacity:1,visibility:"visible"}];default:return[{opacity:0,visibility:"hidden"},{opacity:1,visibility:"visible"}]}}finishTransition(e,t,i){i.removeChild(e),t.style.cssText="",t.classList.remove("router-animation-new","router-animation-old"),Array.from(t.classList).filter(a=>a.startsWith("router-animation-")).forEach(a=>t.classList.remove(a))}async cancelCurrentAnimation(){this.currentAnimation&&(this.currentAnimation.cancel(),this.currentAnimation=null),this.isAnimating=!1}isAnimationInProgress(){return this.isAnimating}getAvailableAnimationTypes(){return l().animations.animationTypes}static createAnimationStyles(){return`
      /* –ë–∞–∑–æ–≤—ã–µ —Å—Ç–∏–ª–∏ –¥–ª—è –∞–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤ */
      .router-animation-old,
      .router-animation-new {
        will-change: transform, opacity;
        backface-visibility: hidden;
        -webkit-backface-visibility: hidden;
      }

      @media (prefers-reduced-motion: reduce) {
        .router-animation-old,
        .router-animation-new {
          animation-duration: 0.01ms !important;
          animation-iteration-count: 1 !important;
          transition-duration: 0.01ms !important;
        }
      }
    `}}class ee{isSupported=!1;registration=null;isEnabled=!0;constructor(){this.isSupported="serviceWorker"in navigator,this.isEnabled=l().offline.enabled}async register(){if(!this.isSupported||!this.isEnabled)return console.warn("‚ö†Ô∏è Service Worker not supported or disabled"),!1;try{return this.registration=await navigator.serviceWorker.register("/sw.js",{scope:"/"}),console.log("‚úÖ Service Worker registered:",this.registration),this.setupUpdateListeners(),this.setupNetworkMonitoring(),!0}catch(e){return console.error("‚ùå Service Worker registration failed:",e),!1}}setupUpdateListeners(){this.registration&&(this.registration.addEventListener("updatefound",()=>{const e=this.registration.installing;e&&e.addEventListener("statechange",()=>{e.state==="installed"&&(navigator.serviceWorker.controller?(console.log("üîÑ New Service Worker available"),this.showUpdateNotification()):console.log("‚úÖ Service Worker installed for the first time"))})}),navigator.serviceWorker.addEventListener("controllerchange",()=>{console.log("üéÆ Service Worker controller changed")}))}showUpdateNotification(){console.log("üì¢ New version available. Refresh to update."),l().offline.showOfflineIndicator&&(this.showToast("New version available. Refreshing..."),setTimeout(()=>{window.location.reload()},3e3))}setupNetworkMonitoring(){if(!l().offline.showOfflineIndicator)return;const e=()=>{navigator.onLine?(this.hideOfflineIndicator(),console.log("üåê Online")):(this.showOfflineIndicator(),console.log("üì¥ Offline"))};window.addEventListener("online",e),window.addEventListener("offline",e),e()}showOfflineIndicator(){let e=document.getElementById("offline-indicator");e||(e=document.createElement("div"),e.id="offline-indicator",e.innerHTML=`
        <div style="
          position: fixed;
          top: 0;
          left: 0;
          right: 0;
          background: #f44336;
          color: white;
          text-align: center;
          padding: 10px;
          z-index: 9999;
          font-family: sans-serif;
          font-size: 14px;
        ">
          ‚ö†Ô∏è You are offline. Some features may be unavailable.
        </div>
      `,document.body.appendChild(e)),e.style.display="block"}hideOfflineIndicator(){const e=document.getElementById("offline-indicator");e&&(e.style.display="none")}showToast(e){const t=document.createElement("div");t.innerHTML=`
      <div style="
        position: fixed;
        bottom: 20px;
        right: 20px;
        background: #333;
        color: white;
        padding: 12px 20px;
        border-radius: 4px;
        z-index: 10000;
        font-family: sans-serif;
        font-size: 14px;
        box-shadow: 0 2px 10px rgba(0,0,0,0.2);
      ">
        ${e}
      </div>
    `,document.body.appendChild(t),setTimeout(()=>{t.parentNode&&t.parentNode.removeChild(t)},3e3)}async update(){if(!this.registration)return!1;try{return await this.registration.update(),console.log("üîÑ Service Worker update triggered"),!0}catch(e){return console.error("‚ùå Service Worker update failed:",e),!1}}async unregister(){if(!this.registration)return!1;try{const e=await this.registration.unregister();return console.log("üóëÔ∏è Service Worker unregistered:",e),this.registration=null,e}catch(e){return console.error("‚ùå Service Worker unregistration failed:",e),!1}}async clearCache(){if(!this.registration)return!1;try{const e=this.registration.active;e&&e.postMessage({type:"CLEAR_CACHE"});const t=await caches.keys();return await Promise.all(t.map(i=>caches.delete(i))),console.log("üßπ Service Worker cache cleared"),!0}catch(e){return console.error("‚ùå Failed to clear Service Worker cache:",e),!1}}async getCacheStats(){if(!this.registration)return null;try{const e=this.registration.active;if(!e)return null;const t=new MessageChannel;return new Promise((i,r)=>{t.port1.onmessage=a=>{a.data.error?r(a.data.error):i(a.data)},e.postMessage({type:"GET_CACHE_STATS"},[t.port2])})}catch(e){return console.error("‚ùå Failed to get cache stats:",e),null}}isServiceWorkerSupported(){return this.isSupported}isRegistered(){return!!this.registration}getRegistration(){return this.registration}setEnabled(e){this.isEnabled=e,!e&&this.registration?this.unregister():e&&!this.registration&&this.register()}}class te{events=new Map;on(e,t){return this.events.has(e)||this.events.set(e,[]),this.events.get(e).push(t),()=>{this.off(e,t)}}off(e,t){const i=this.events.get(e);if(!i)return;const r=i.indexOf(t);r!==-1&&i.splice(r,1),i.length===0&&this.events.delete(e)}emit(e,...t){const i=this.events.get(e);i&&i.forEach(r=>{try{r(...t)}catch(a){console.error(`Error in event handler for "${e}":`,a)}})}once(e,t){const i=(...r)=>{this.off(e,i),t(...r)};return this.on(e,i)}hasListeners(e){return this.events.has(e)&&this.events.get(e).length>0}removeAllListeners(e){e?this.events.delete(e):this.events.clear()}getEventNames(){return Array.from(this.events.keys())}}const I=n=>{console.warn("Fallback: redirecting via full page reload",n),window.location.href=n},w=["a","button[data-router-link]"],q=async n=>{try{const e=await fetch(n,{method:"GET"});return e.ok?e:(console.warn(`loadPage: HTTP ${e.status} –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ ${n}`),null)}catch(e){return console.error("loadPage: –æ—à–∏–±–∫–∞ —Å–µ—Ç–∏ –∏–ª–∏ –∑–∞–ø—Ä–æ—Å–∞",e),null}},C=new WeakMap,v={timeouts:[],intervals:[],listeners:[]},ie=EventTarget.prototype.addEventListener,re=EventTarget.prototype.removeEventListener,ne=window.setTimeout,ae=window.setInterval,oe=()=>{window.setTimeout=function(r,a,...o){const s=ne(r,a,...o);return v.timeouts.push(s),s},window.setInterval=function(r,a,...o){const s=ae(r,a,...o);return v.intervals.push(s),s},EventTarget.prototype.addEventListener=function(r,a,o){v.listeners.push({target:this,type:r,handler:a,options:o}),ie.call(this,r,a,o)},EventTarget.prototype.removeEventListener=function(r,a,o){v.listeners=v.listeners.filter(s=>!(s.target===this&&s.type===r&&s.handler===a)),re.call(this,r,a,o)};const n=Element.prototype.appendChild,e=Element.prototype.prepend,t=Element.prototype.insertBefore,i=Element.prototype.replaceChild;Element.prototype.appendChild=function(r){return r instanceof HTMLScriptElement&&S(r),n.call(this,r)},Element.prototype.prepend=function(...r){for(const a of r)a instanceof HTMLScriptElement&&S(a);e.apply(this,r)},Element.prototype.insertBefore=function(r,a){return r instanceof HTMLScriptElement&&S(r),t.call(this,r,a)},Element.prototype.replaceChild=function(r,a){return r instanceof HTMLScriptElement&&S(r),i.call(this,r,a)},console.log("üß© Sandbox initialized")},S=n=>{const e={timeouts:[],intervals:[],listeners:[],classes:new Set,functions:new Set};C.set(n,e)},se=n=>{const e=C.get(n);e&&(e.timeouts.forEach(clearTimeout),e.intervals.forEach(clearInterval),e.listeners.forEach(({target:t,type:i,handler:r,options:a})=>{t.removeEventListener(i,r,a)}),C.delete(n),console.log("üßπ Cleaned up script:",n))},ce=()=>{document.querySelectorAll("script").forEach(n=>{R(n)||(se(n),n.remove())}),v.timeouts.forEach(clearTimeout),v.intervals.forEach(clearInterval),v.listeners.forEach(({target:n,type:e,handler:t,options:i})=>{n&&n.removeEventListener(e,t,i)}),console.log("‚úÖ Purged all dynamic scripts and listeners")},le=n=>{let e=5381,t=n.length;for(;t;)e=e*33^n.charCodeAt(--t);return(e>>>0).toString(36)},O=n=>new DOMParser().parseFromString(n,"text/html"),L=new Set,he=n=>{const e=n.getAttribute("src");if(e)return`src:${e}`;const t=n.textContent?.trim();return t?`code:${le(t.replace(/\s+/g," "))}`:null},ue=n=>{L.delete(n)},de=()=>{L.clear()},$=(n,e="head")=>{if(!n)return;const t=he(n);if(!t)return;const i=ge(n);if(me(n,t),L.has(t)&&!i)return;const r=D(n),a=e==="body"?document.body:document.head;S(r),a.appendChild(r),L.add(t)},fe=n=>{const e=Array.from(n.querySelectorAll("script")),t=[];for(const i of e){const r=D(i);t.push(r),n.removeChild(i)}return t},me=(n,e)=>{if(e.startsWith("src:")){const t=n.getAttribute("src");if(!t)return;document.querySelectorAll(`script[src="${t}"]`).forEach(i=>i.remove())}else if(e.startsWith("code:")){const t=n.textContent?.trim()?.replace(/\s+/g," ");if(!t)return;document.querySelectorAll("script:not([src])").forEach(i=>{i.textContent?.trim()?.replace(/\s+/g," ")===t&&i.remove()})}ue(e)},D=n=>{const e=document.createElement("script");for(const t of n.getAttributeNames()){const i=n.getAttribute(t);i!==null&&e.setAttribute(t,i)}if(!n.src){const t=n.textContent?.trim();t&&(e.textContent=t)}return e},R=n=>n.hasAttribute("data-keep"),F=n=>n.hasAttribute("data-skip"),ge=n=>n.hasAttribute("data-reload"),_=n=>{const e=document.head,t=Array.from(n.children);for(const i of t){const r=i.tagName.toLowerCase();if(r==="title"){const a=e.querySelector("title");a&&a.remove(),e.appendChild(i.cloneNode(!0));continue}if(r==="script"){if(F(i))continue;$(i,"head");continue}X(i,e)||e.appendChild(i.cloneNode(!0))}for(const i of e.children)R(i)||X(i,n)||i.remove()},X=(n,e)=>{const t=n.tagName.toLowerCase();for(const i of e.children)if(i.tagName.toLowerCase()===t){if(t==="meta"){const r=n,a=i;if(r.getAttribute("name")&&a.getAttribute("name")===r.getAttribute("name")||r.getAttribute("property")&&a.getAttribute("property")===r.getAttribute("property"))return!0}if(t==="link"){const r=n,a=i;if(r.getAttribute("rel")===a.getAttribute("rel")&&r.getAttribute("href")===a.getAttribute("href"))return!0}}return!1},pe=n=>{const e=document.body,t=document.getElementById("avoid");e.innerHTML=n.innerHTML,t&&e.prepend(t)},H=n=>{ce(),de();const e=fe(n);for(const t of e)F(t)||R(t)||$(t,"body")},z=async n=>{console.log("–ù–∞–≤–∏–≥–∞—Ü–∏—è –∫:",n),history.pushState({},"",n);const e=await q(n);if(!e){I(n);return}const t=await e.text(),i=O(t);_(i.head),pe(i.body),H(i.body)};window.addEventListener("popstate",()=>{z(window.location.pathname)});let g=null;function ye(n){g=n}const k=n=>{let e=null;if(n.tagName.toLowerCase()==="a"&&n.hasAttribute("href")){const t=n;if(t.target==="_blank")return null;e=t.getAttribute("href")}else n.tagName.toLowerCase()==="button"&&n.hasAttribute("data-router-link")&&(e=n.getAttribute("data-router-link"));if(!e)return null;try{const t=new URL(e,document.location.origin);return t.origin!==document.location.origin?null:t.pathname+t.search+t.hash}catch{return null}},P=n=>{const e=l();let t=n;for(;t;){if(t.hasAttribute(e.general.dataNoRoutingAttribute))return!0;t=t.parentElement}return!1},ve=n=>{const e=new WeakMap,t=new WeakMap,i=new WeakMap,r=l(),a=f=>{if(!g)return;const c=f.currentTarget,h=k(c);if(!h||P(c)||!r.prefetch.enabled)return;const d=window.setTimeout(()=>{g&&g.prefetch(h,"low")},r.prefetch.hoverDelay);i.set(c,d)},o=f=>{const c=f.currentTarget,h=i.get(c);if(h&&(window.clearTimeout(h),i.delete(c)),g){const d=k(c);d&&g.cancelPrefetch(d)}},s=f=>{if(!g)return;const c=f.currentTarget,h=k(c);if(!h||P(c)||!r.prefetch.enabled)return;const d=window.setTimeout(()=>{g&&g.prefetch(h,"auto")},r.prefetch.touchDelay);i.set(c,d)},u=f=>{const c=f.currentTarget,h=i.get(c);h&&(window.clearTimeout(h),i.delete(c))},m=f=>c=>{const h=c.currentTarget;if(P(h))return;const d=k(h);d&&(c.preventDefault(),c.stopPropagation(),f(d))},M=f=>{f.forEach(c=>{if(c instanceof HTMLElement&&k(c)&&!P(c)){const d=m(n);if(c.addEventListener("click",d),e.set(c,d),r.prefetch.enabled&&g){const p={mouseenter:a,mouseleave:o,touchstart:s,touchend:u,touchcancel:u};c.addEventListener("mouseenter",p.mouseenter),c.addEventListener("mouseleave",p.mouseleave),c.addEventListener("touchstart",p.touchstart),c.addEventListener("touchend",p.touchend),c.addEventListener("touchcancel",p.touchcancel),t.set(c,p)}}})},A=f=>{f.forEach(c=>{if(c instanceof HTMLElement){const h=e.get(c);h&&(c.removeEventListener("click",h),e.delete(c));const d=t.get(c);d&&(c.removeEventListener("mouseenter",d.mouseenter),c.removeEventListener("mouseleave",d.mouseleave),c.removeEventListener("touchstart",d.touchstart),c.removeEventListener("touchend",d.touchend),c.removeEventListener("touchcancel",d.touchcancel),t.delete(c));const p=i.get(c);p&&(window.clearTimeout(p),i.delete(c))}})},ke=document.querySelectorAll(w.join(", "));M(ke);const Q=new MutationObserver(f=>{f.forEach(c=>{c.addedNodes.forEach(h=>{if(h instanceof HTMLElement){h.matches&&h.matches(w.join(", "))&&M([h]);const d=h.querySelectorAll?.(w.join(", "));d&&M(d)}}),c.removedNodes.forEach(h=>{if(h instanceof HTMLElement){h.matches&&h.matches(w.join(", "))&&A([h]);const d=h.querySelectorAll?.(w.join(", "));d&&A(d)}})})});return Q.observe(document.body,{childList:!0,subtree:!0}),()=>{Q.disconnect();const f=document.querySelectorAll(w.join(", "));A(f),document.querySelectorAll(w.join(", ")).forEach(h=>{if(h instanceof HTMLElement){const d=i.get(h);d&&(window.clearTimeout(d),i.delete(h))}})}};let N=null;function be(n){N=n}async function we(n,e){const t=document.body,i=document.body.parentElement,r=n.cloneNode(!0);N&&l().animations.enabled?await N.animatePageTransition(t,r,i,{type:e||"fade",duration:l().animations.defaultDuration,onComplete:()=>{B(n),H(r)}}):(i.replaceChild(r,t),B(n),H(r))}function B(n){const e=n.ownerDocument;e&&e.head&&_(e.head)}const Ee=async(n,e)=>{console.log("üé¨ –ù–∞–≤–∏–≥–∞—Ü–∏—è —Å –∞–Ω–∏–º–∞—Ü–∏–µ–π –∫:",n,e?`(type: ${e})`:""),history.pushState({},"",n);const t=await q(n);if(!t){I(n);return}const i=await t.text(),r=O(i);await we(r.body,e)},Se=async(n,e={})=>{const t=l();let i=e.type;return i||(e.direction==="backward"?i=t.animations.animationTypes.includes("slide-right")?"slide-right":"fade":i=t.animations.animationTypes.includes("slide-left")?"slide-left":"fade"),Ee(n,i)};let Y=0,W=!1;window.addEventListener("popstate",n=>{const e=Date.now();if(e-Y<100||W)return;Y=e,W=!0;const i=n.state?.direction||(history.length>1?"backward":"forward");Se(window.location.pathname,{direction:i}),setTimeout(()=>{W=!1},100)});class U{cacheManager;prefetchManager;animationManager;serviceWorkerManager;eventEmitter;isInitialized=!1;detachRouteListeners=null;constructor(e){e&&x(e),this.cacheManager=new G,this.prefetchManager=new V(this.cacheManager),this.animationManager=new Z,this.serviceWorkerManager=new ee,this.eventEmitter=new te,this.injectAnimationStyles(),l().general.debug&&(console.log("üîß AdvancedRouter initialized with managers"),console.log("üìä Cache stats:",this.cacheManager.getStats()))}injectAnimationStyles(){if(document.head.querySelector("#router-animation-styles"))return;const e=document.createElement("style");e.id="router-animation-styles",e.textContent=this.createAnimationStyles(),document.head.appendChild(e)}async init(){if(this.isInitialized){console.warn("‚ö†Ô∏è AdvancedRouter already initialized");return}l().offline.enabled&&await this.serviceWorkerManager.register(),this.attachEnhancedRouteListeners(),this.prefetchInitialLinks(),this.isInitialized=!0,this.eventEmitter.emit("init"),console.log("üöÄ AdvancedRouter initialized with all features")}attachEnhancedRouteListeners(){l();const e=t=>{this.navigateTo(t)};ye(this.prefetchManager),be(this.animationManager),this.detachRouteListeners=ve(e)}prefetchInitialLinks(){l().prefetch.enabled&&(setTimeout(()=>{this.prefetchManager.prefetchNavigationLinks()},1e3),window.addEventListener("load",()=>{setTimeout(()=>{this.prefetchManager.prefetchNavigationLinks()},500)}))}async navigateTo(e,t={}){if(!this.isInitialized){console.warn("‚ö†Ô∏è Router not initialized, using base navigation"),z(e);return}this.eventEmitter.emit("navigation:start",e,t);try{const i=this.cacheManager.get(e);i?await this.loadFromCache(e,i,t):await this.loadFromServer(e,t),this.eventEmitter.emit("navigation:complete",e,t),this.prefetchManager.prefetchNavigationLinks(document.body)}catch(i){console.error("‚ùå Navigation failed:",i),this.eventEmitter.emit("navigation:error",e,i,t),z(e),setTimeout(()=>{this.attachEnhancedRouteListeners()},100)}}async loadFromCache(e,t,i={}){l().general.debug&&console.log(`üéØ Loading from cache: ${e}`),this.eventEmitter.emit("cache:hit",e);const a=new DOMParser().parseFromString(t.html,"text/html");await this.updatePage(a,e,!0,i)}async loadFromServer(e,t={}){l().general.debug&&console.log(`üåê Loading from server: ${e}`),this.eventEmitter.emit("cache:miss",e);try{const i=await fetch(e,{method:"GET"});if(!i.ok)throw new Error(`HTTP ${i.status}`);const r=await i.text(),a={};i.headers.forEach((u,m)=>{a[m]=u}),this.cacheManager.set(e,r,a);const s=new DOMParser().parseFromString(r,"text/html");await this.updatePage(s,e,!1,t)}catch(i){throw i}}async updatePage(e,t,i,r={}){this.detachRouteListeners&&(this.detachRouteListeners(),this.detachRouteListeners=null),history.pushState({},"",t);const a=document.body,o=e.body.cloneNode(!0),s=document.body.parentElement,u=r.skipAnimation?void 0:r.animationType||"fade";if(!l().animations.enabled||r.skipAnimation||!u){s.replaceChild(o,a),this.updateHead(e.head),this.runScripts(o),this.attachEnhancedRouteListeners(),this.eventEmitter.emit("page:updated",t,i,{animated:!1});return}await this.animationManager.animatePageTransition(a,o,s,{type:u,duration:l().animations.defaultDuration,onComplete:()=>{this.updateHead(e.head),this.runScripts(o),this.attachEnhancedRouteListeners(),this.eventEmitter.emit("page:updated",t,i,{animated:!0,animationType:u})}})}updateHead(e){const t=document.head,i=e.querySelector("title"),r=t.querySelector("title");i&&r&&(r.textContent=i.textContent),["description","keywords","viewport"].forEach(o=>{const s=e.querySelector(`meta[name="${o}"]`),u=t.querySelector(`meta[name="${o}"]`);s&&u?u.setAttribute("content",s.getAttribute("content")||""):s&&!u&&t.appendChild(s.cloneNode(!0))})}runScripts(e){e.querySelectorAll("script").forEach(i=>{const r=document.createElement("script");Array.from(i.attributes).forEach(a=>{r.setAttribute(a.name,a.value)}),!i.src&&i.textContent&&(r.textContent=i.textContent),document.body.appendChild(r),i.remove()})}getCacheManager(){return this.cacheManager}getPrefetchManager(){return this.prefetchManager}getAnimationManager(){return this.animationManager}getServiceWorkerManager(){return this.serviceWorkerManager}on(e,t){return this.eventEmitter.on(e,t)}off(e,t){this.eventEmitter.off(e,t)}isRouterInitialized(){return this.isInitialized}clearCache(){this.cacheManager.clear(),this.eventEmitter.emit("cache:cleared")}clearPrefetchQueue(){this.prefetchManager.clearQueue(),this.eventEmitter.emit("prefetch:cleared")}clearNavigationHistory(){this.prefetchManager.clearNavigationHistory(),this.eventEmitter.emit("navigation:history:cleared")}getIntelligentPrefetchStats(){return this.prefetchManager.getIntelligentPrefetch().getStats()}setIntelligentPrefetchEnabled(e){this.prefetchManager.getIntelligentPrefetch().setEnabled(e),this.eventEmitter.emit("intelligent:prefetch:enabled",e)}setOfflineModeEnabled(e){this.serviceWorkerManager.setEnabled(e),this.eventEmitter.emit("offline:mode:enabled",e)}async updateServiceWorker(){const e=await this.serviceWorkerManager.update();return this.eventEmitter.emit("service:worker:updated",e),e}async clearServiceWorkerCache(){const e=await this.serviceWorkerManager.clearCache();return this.eventEmitter.emit("service:worker:cache:cleared",e),e}async getServiceWorkerCacheStats(){return await this.serviceWorkerManager.getCacheStats()}isOfflineModeSupported(){return this.serviceWorkerManager.isServiceWorkerSupported()}isOfflineModeEnabled(){return this.serviceWorkerManager.isRegistered()}setAnimationsEnabled(e){const t=l();x({animations:{...t.animations,enabled:e}}),this.eventEmitter.emit("animations:enabled",e)}setDefaultAnimationType(e){const t=l();t.animations.animationTypes.includes(e)?(x({animations:{...t.animations,defaultType:e}}),this.eventEmitter.emit("animation:type:changed",e)):console.warn(`‚ö†Ô∏è Animation type "${e}" is not available`)}getAvailableAnimationTypes(){return l().animations.animationTypes}navigateWithAnimation(e,t,i=!1){return this.navigateTo(e,{animationType:t,skipAnimation:i})}navigateWithoutAnimation(e){return this.navigateTo(e,{skipAnimation:!0})}areAnimationsEnabled(){return l().animations.enabled}isAnimationInProgress(){return this.animationManager.isAnimationInProgress()}async cancelCurrentAnimation(){await this.animationManager.cancelCurrentAnimation(),this.eventEmitter.emit("animation:cancelled")}createAnimationStyles(){return`
      /* –ë–∞–∑–æ–≤—ã–µ —Å—Ç–∏–ª–∏ –¥–ª—è –∞–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤ */
      .router-animation-old,
      .router-animation-new {
        will-change: transform, opacity;
        backface-visibility: hidden;
        -webkit-backface-visibility: hidden;
        transform-style: preserve-3d;
      }

      /* –ê–Ω–∏–º–∞—Ü–∏—è fade */
      @keyframes router-fade-in {
        from { opacity: 0; }
        to { opacity: 1; }
      }

      @keyframes router-fade-out {
        from { opacity: 1; }
        to { opacity: 0; }
      }

      .router-animation-fade {
        animation-timing-function: ease-in-out;
      }

      /* –ê–Ω–∏–º–∞—Ü–∏—è slide-left */
      @keyframes router-slide-left-in {
        from { 
          transform: translateX(100%);
          opacity: 0;
        }
        to { 
          transform: translateX(0);
          opacity: 1;
        }
      }

      @keyframes router-slide-left-out {
        from { 
          transform: translateX(0);
          opacity: 1;
        }
        to { 
          transform: translateX(-100%);
          opacity: 0;
        }
      }

      .router-animation-slide-left {
        animation-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
      }

      /* –ê–Ω–∏–º–∞—Ü–∏—è slide-right */
      @keyframes router-slide-right-in {
        from { 
          transform: translateX(-100%);
          opacity: 0;
        }
        to { 
          transform: translateX(0);
          opacity: 1;
        }
      }

      @keyframes router-slide-right-out {
        from { 
          transform: translateX(0);
          opacity: 1;
        }
        to { 
          transform: translateX(100%);
          opacity: 0;
        }
      }

      .router-animation-slide-right {
        animation-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
      }

      /* –ê–Ω–∏–º–∞—Ü–∏—è slide-up */
      @keyframes router-slide-up-in {
        from { 
          transform: translateY(100%);
          opacity: 0;
        }
        to { 
          transform: translateY(0);
          opacity: 1;
        }
      }

      @keyframes router-slide-up-out {
        from { 
          transform: translateY(0);
          opacity: 1;
        }
        to { 
          transform: translateY(-100%);
          opacity: 0;
        }
      }

      .router-animation-slide-up {
        animation-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
      }

      /* –ê–Ω–∏–º–∞—Ü–∏—è slide-down */
      @keyframes router-slide-down-in {
        from { 
          transform: translateY(-100%);
          opacity: 0;
        }
        to { 
          transform: translateY(0);
          opacity: 1;
        }
      }

      @keyframes router-slide-down-out {
        from { 
          transform: translateY(0);
          opacity: 1;
        }
        to { 
          transform: translateY(100%);
          opacity: 0;
        }
      }

      .router-animation-slide-down {
        animation-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
      }

      /* –ê–Ω–∏–º–∞—Ü–∏—è collapse */
      @keyframes router-collapse-in {
        from { 
          transform: scale(1.2);
          opacity: 0;
        }
        to { 
          transform: scale(1);
          opacity: 1;
        }
      }

      @keyframes router-collapse-out {
        from { 
          transform: scale(1);
          opacity: 1;
        }
        to { 
          transform: scale(0.8);
          opacity: 0;
        }
      }

      .router-animation-collapse {
        animation-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
      }

      /* –ê–Ω–∏–º–∞—Ü–∏—è diagonal */
      @keyframes router-diagonal-in {
        from { 
          transform: translate(-100%, -100%) scale(1.2);
          opacity: 0;
        }
        to { 
          transform: translate(0, 0) scale(1);
          opacity: 1;
        }
      }

      @keyframes router-diagonal-out {
        from { 
          transform: translate(0, 0) scale(1);
          opacity: 1;
        }
        to { 
          transform: translate(100%, 100%) scale(0.8);
          opacity: 0;
        }
      }

      .router-animation-diagonal {
        animation-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
      }

      /* –ö–ª–∞—Å—Å—ã –¥–ª—è —Ä—É—á–Ω–æ–≥–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∞–Ω–∏–º–∞—Ü–∏—è–º–∏ */
      .router-animate-fade {
        animation: router-fade-in 0.3s ease-in-out;
      }

      .router-animate-slide-left {
        animation: router-slide-left-in 0.4s cubic-bezier(0.4, 0, 0.2, 1);
      }

      .router-animate-slide-right {
        animation: router-slide-right-in 0.4s cubic-bezier(0.4, 0, 0.2, 1);
      }

      .router-animate-slide-up {
        animation: router-slide-up-in 0.4s cubic-bezier(0.4, 0, 0.2, 1);
      }

      .router-animate-slide-down {
        animation: router-slide-down-in 0.4s cubic-bezier(0.4, 0, 0.2, 1);
      }

      .router-animate-collapse {
        animation: router-collapse-in 0.4s cubic-bezier(0.4, 0, 0.2, 1);
      }

      .router-animate-diagonal {
        animation: router-diagonal-in 0.4s cubic-bezier(0.4, 0, 0.2, 1);
      }

      /* –ü–æ–¥–¥–µ—Ä–∂–∫–∞ prefers-reduced-motion */
      @media (prefers-reduced-motion: reduce) {
        .router-animation-old,
        .router-animation-new,
        .router-animate-fade,
        .router-animate-slide-left,
        .router-animate-slide-right,
        .router-animate-slide-up,
        .router-animate-slide-down,
        .router-animate-collapse,
        .router-animate-diagonal {
          animation-duration: 0.01ms !important;
          animation-iteration-count: 1 !important;
          transition-duration: 0.01ms !important;
        }
      }

      /* –£—Ç–∏–ª–∏—Ç–∞—Ä–Ω—ã–µ –∫–ª–∞—Å—Å—ã –¥–ª—è –∞–Ω–∏–º–∞—Ü–∏–π */
      .router-animation-container {
        position: relative;
        overflow: hidden;
      }

      .router-animation-wrapper {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
      }

      /* –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä –∑–∞–≥—Ä—É–∑–∫–∏ */
      .router-loading-indicator {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 3px;
        background: linear-gradient(90deg, #667eea, #764ba2);
        z-index: 9999;
        transform-origin: 0 50%;
        animation: router-loading 1s infinite;
      }

      @keyframes router-loading {
        0% { transform: scaleX(0); }
        50% { transform: scaleX(0.5); }
        100% { transform: scaleX(1); }
      }

      /* –ü–ª–∞–≤–Ω—ã–π —Å–∫—Ä–æ–ª–ª –ø–æ—Å–ª–µ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ */
      .router-smooth-scroll {
        scroll-behavior: smooth;
      }

      /* –û—Ç–∫–ª—é—á–µ–Ω–∏–µ –∞–Ω–∏–º–∞—Ü–∏–π –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —Å prefers-reduced-motion */
      @media (prefers-reduced-motion: reduce) {
        .router-smooth-scroll {
          scroll-behavior: auto;
        }
        
        .router-loading-indicator {
          display: none;
        }
      }
    `}}const j=new U({general:{debug:process.env.NODE_ENV==="development",dataNoRoutingAttribute:"data-no-routing"}});oe(),j.init().then(()=>{console.log("‚úÖ AdvancedRouter fully initialized")}).catch(n=>{console.error("‚ùå Failed to initialize AdvancedRouter:",n)}),b.AdvancedRouter=U,b.router=j,Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})}));
